<?xml version="1.0" encoding="UTF-8"?>
<!--
  ~ Copyright (c) 2017 Cisco Systems, Inc. and others.  All rights reserved.
  ~
  ~ This program and the accompanying materials are made available under the
  ~ terms of the Eclipse Public License v1.0 which accompanies this distribution,
  ~ and is available at http://www.eclipse.org/legal/epl-v10.html
  -->

<!-- vi: set et smarttab sw=4 tabstop=4: -->

<blueprint xmlns="http://www.osgi.org/xmlns/blueprint/v1.0.0"
  xmlns:odl="http://opendaylight.org/xmlns/blueprint/v1.0.0"
  odl:use-default-for-reference-types="true">

  <odl:clustered-app-config id="listConfigDefault"
                            binding-class="org.opendaylight.yang.gen.v1.urn.opendaylight.params.xml.ns.yang.onem2m.protocol.websocket.rev141210.Onem2mProtocolWebsocketProviders"
                            list-key-value="WebsocketProviderDefault" >
    <odl:default-config><![CDATA[
      <onem2m-protocol-websocket-providers xmlns="urn:opendaylight:params:xml:ns:yang:onem2m:protocol:websocket">
          <websocket-provider-instance-name>WebsocketProviderDefault</websocket-provider-instance-name>

          <server-port>8888</server-port>
          <server-security-level>l0</server-security-level>
      </onem2m-protocol-websocket-providers>
    ]]></odl:default-config>
  </odl:clustered-app-config>

  <reference id="rpcRegistry" interface="org.opendaylight.controller.sal.binding.api.RpcProviderRegistry"/>

  <bean id="websocketProviderDefault"
        class="org.opendaylight.iotdm.onem2m.protocols.websocket.Onem2mWebsocketProvider"
        init-method="init" destroy-method="close" >
    <argument ref="rpcRegistry" />
    <argument ref="listConfigDefault" />
  </bean>

</blueprint>
